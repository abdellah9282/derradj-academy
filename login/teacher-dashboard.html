<!DOCTYPE html>
<html lang="en" translate="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Teacher Dashboard - Derradj Academy</title>

  <!-- CSS -->
  <link rel="stylesheet" href="teacher-dashboard.css" />

  <!-- Favicon -->
  <link rel="icon" type="image/jpeg" href="../Logo.jpg" />

  <!-- Scripts -->
  <script src="../js/search.js" defer></script>
  <script type="module" src="teacher-dashboard.js" defer></script>
</head>
<body>

<!-- HEADER Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ù…Ø¹ Ø§Ù„Ù…Ù†ØµØ© -->
<header class="main-header">
  <div class="left-section">
    <a href="" class="logo">
      <span class="purple">D</span>erradj Academy
    </a>

    <div class="explore-dropdown">
      <a href="#" class="explore-link">Explore</a>
      <ul class="dropdown-menu">
        <li><a href="../courses/ondes_et_vibrations.html">Ondes et Vibrations</a></li>
        <li><a href="../courses/electrotechnique_fondamentale1.html">Ã‰lectrotechnique Fondamentale 1</a></li>
        <li><a href="../courses/electronique_fondamentale1.html">Ã‰lectronique Fondamentale 1</a></li>
        <li><a href="../courses/electricite_industrielle.html">Ã‰lectricitÃ© Industrielle</a></li>
      </ul>
    </div>
  </div>


  <nav class="right-links">
    <a href="../#student-feedback" class="nav-link">What Our Students Say</a>
    <a href="../All playlist/all-playlists.html" class="cart-icon">ğŸ›’</a>
    <button id="logoutBtn" class="btn signup">Log out</button>
  </nav>
</header>

<!-- MAIN CONTENT -->
<main class="dashboard">
  <div class="cards" aria-label="Statistics cards">
    <div class="card" role="region" aria-labelledby="students-enrolled-title">
      <h3 id="students-enrolled-title">ğŸ‘¨â€ğŸ“ Students Enrolled</h3>
      <div class="value" id="studentCount" aria-live="polite" aria-atomic="true">...</div>
    </div>
    <div class="card" role="region" aria-labelledby="live-sessions-title">
      <h3 id="live-sessions-title">ğŸ“º Live Sessions</h3>
      <div class="value" id="sessionCount" aria-live="polite" aria-atomic="true">...</div>
    </div>
    <div class="card" role="region" aria-labelledby="total-earnings-title">
      <h3 id="total-earnings-title">
        <a href="withdraw-request.html" style="text-decoration: none; color: inherit; cursor: pointer;">
          ğŸ’° Total Earnings (DA)
        </a>
      </h3>
      <div class="value" id="totalEarnings" aria-live="polite" aria-atomic="true">...</div>
    </div>
  </div>

  <section class="teacher-subjects" aria-label="Subjects you teach">
    <h3>ğŸ“š Subjects You Teach</h3>
    <ul id="subjectsList" role="list">
      <!-- Ø§Ù„Ù…ÙˆØ§Ø¯ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ -->
    </ul>
  </section>
</main>

<!-- LOGOUT FUNCTION -->
<script>
  document.getElementById('logoutBtn')?.addEventListener('click', () => {
    localStorage.clear();
    window.location.href = '../login/login.html';
  });
</script>
<script>
(function () {
  // ØºÙŠÙ‘Ø± Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø·Ø±Ø¯/Ø§Ù„ØªØ­Ø°ÙŠØ± Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯Ù‡Ø§
  const TARGET_URL = "../../index.html";

  function leave() {
    // replace ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¨Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
    window.location.replace(TARGET_URL);
  }

  // 1) Ø§Ù„ØªÙ‚Ø§Ø· Ø¶ØºØ·Ø© Ø§Ù„Ø²Ø± Ø§Ù„Ø£ÙŠÙ…Ù† (Ø£Ù‚ÙˆÙ‰ Ù…Ø¹ Ø·ÙˆØ± Ø§Ù„Ø§Ù„ØªÙ‚Ø§Ø· capture)
  function onContextMenu(e) {
    e.preventDefault();
    e.stopPropagation();
    leave();
  }
  window.addEventListener("contextmenu", onContextMenu, { capture: true });

  // 2) Ø§Ø­ØªÙŠØ§Ø·: Ø§Ù„ØªÙ‚Ø§Ø· Ø²Ø± Ø§Ù„Ù…Ø§ÙˆØ³ Ø§Ù„Ø£ÙŠÙ…Ù† Ù…Ø¨Ø§Ø´Ø±Ø©
  window.addEventListener("mousedown", function (e) {
    if (e.button === 2) {
      e.preventDefault();
      e.stopPropagation();
      leave();
    }
  }, { capture: true });

  // 3) Ù„Ù„Ø¬ÙˆØ§Ù„: Ù…Ø­Ø§ÙˆÙ„Ø© ÙƒØ´Ù Ø§Ù„Ø¶ØºØ· Ø§Ù„Ù…Ø·ÙˆÙ‘Ù„ (Ù‚Ø¯ ÙŠÙØªØ­ Ù‚Ø§Ø¦Ù…Ø© Ø³ÙŠØ§Ù‚ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª)
  let pressTimer;
  window.addEventListener("touchstart", function () {
    pressTimer = setTimeout(leave, 600);
  }, { passive: true });
  window.addEventListener("touchend", function () {
    clearTimeout(pressTimer);
  });
})();
</script>

</body>
</html>
